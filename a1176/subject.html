<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <p>https://hihocoder.com/problemset/problem/1176</p>p#1176 : 欧拉路·一</p><p> input: </p><dd>
<pre>6 8
1 2
1 4
2 4
2 5
2 3
3 6
4 5
5 6</pre>
</dd><p> output: </p><dd>
<pre>Full</pre>
</dd><p>小Hi和小Ho最近在玩一个解密类的游戏，他们需要控制角色在一片原始丛林里面探险，收集道具，并找到最后的宝藏。现在他们控制的角色来到了一个很大的湖边。湖上有N个小岛(编号1..N)，以及连接小岛的M座木桥。每座木桥上各有一个宝箱，里面似乎装着什么道具。</p><p>湖边还有一个船夫，船夫告诉主角。他可以载着主角到任意一个岛上，并且可以从任意一个岛上再载着主角回到湖边，但是主角只有一次来回的机会。同时船夫告诉主角，连接岛屿之间的木桥很脆弱，走过一次之后就会断掉。</p><p>因为不知道宝箱内有什么道具，小Hi和小Ho觉得如果能把所有的道具收集齐肯定是最好的，那么对于当前岛屿和木桥的情况，能否将所有道具收集齐呢？</p><p>举个例子，比如一个由6个小岛和8座桥组成的地图：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585313.png" title="week49_1.png"/></p><p>主角可以先到达4号小岛，然后按照4-&gt;1-&gt;2-&gt;4-&gt;5-&gt;6-&gt;3-&gt;2-&gt;5的顺序到达5号小岛，然后船夫到5号小岛将主角接回湖边。这样主角就将所有桥上的道具都收集齐了。</p><p><a data-target="#m2" data-toggle="modal" href="#">提示：欧拉路的判定</a></p><p>小Ho：好麻烦啊，是我的话就随便走几步，到没路可走不就好了么！</p><p>小Hi：那样的话，收集的道具会少很多，万一以后要用到，又得重新读档了。</p><p>小Ho：好吧，让我先想想。</p><p>&lt;两分钟后&gt;</p><p>小Ho：这个好像是一笔画问题哎，我们是在求一个方法能够一笔画出所有边吧?</p><p>小Hi：没错，这就是一笔画问题，不过它更正式的名字叫做欧拉路问题。其定义是</p><p><strong>给定无孤立结点图G，若存在一条路，经过图中每边一次且仅一次，该条路称为欧拉路。</strong></p><p>小Ho：既然有名字，那就证明这东西有解咯？</p><p>小Hi：没错，欧拉路是有判定条件的：<strong>一个无向图存在欧拉路当且仅当该图是连通的且有且只有2个点的度数是奇数，此时这两个点只能作为欧拉路径的起点和终点。</strong></p><p>若图中没有奇数度的点，那么起点和终点一定是同一个点，这样的欧拉路叫做<strong>欧拉回路</strong></p><p>对于任意一个点来说，从其他点到它的次数和从它到其他点的次数必然是相等的，否则就会出现出去次数和进入次数不同。若进入次数多，则该点位终点，若出去次数多则该点为起点。</p><p>对于一个无向图来说，进入和出去的次数恰好反映在度的数量上。所以奇数度的点至多只能有2个。</p><p>严格的证明的话：</p><p>若图G连通，有零个或两个奇数度结点，我们总有如下方法构造一条欧拉路：</p><p>不妨看看前面的例子：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585313.png" title="week49_1.png"/></p><p>对于这个图来说，编号为4，5的点度数为奇数，其他为偶数。根据上面的性质，我们知道起点和终点一定是4、5节点。我们先从4开始随便画一条边直到无路可走：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/1433570558609.png" title="week49_2.png"/></p><p>在这一步中我们连接了4-5-6-3-2-5。根据欧拉路的构造，我们得到了L1。因为L1并没有走过所有的边，所以我们执行步骤3，可以发现对于4和2都是与子图G'重合的点，在子图上我们可以得到L2(2-4-1-2)：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585023.png" title="week49_3.png"/></p><p>L1和L2合并就构成了欧拉路。</p><p>小Ho：既然有这个性质，那么我只需要计算每个点的度数就能知道能否走过所有的边了。</p><p>小Hi：没错，但是别忘了最重要的一点，需要整个图是连通的才行。</p><p>第1行：2个正整数，N,M。分别表示岛屿数量和木桥数量。1≤N≤10,000，1≤M≤50,000</p><p>第2..M+1行：每行2个整数，u,v。表示有一座木桥连接着编号为u和编号为v的岛屿，两个岛之间可能有多座桥。1≤u,v≤N</p><p>第1行：1个字符串，如果能收集齐所有的道具输出“Full”，否则输出”Part”。</p><p>小Hi和小Ho最近在玩一个解密类的游戏，他们需要控制角色在一片原始丛林里面探险，收集道具，并找到最后的宝藏。现在他们控制的角色来到了一个很大的湖边。湖上有N个小岛(编号1..N)，以及连接小岛的M座木桥。每座木桥上各有一个宝箱，里面似乎装着什么道具。</p><p>湖边还有一个船夫，船夫告诉主角。他可以载着主角到任意一个岛上，并且可以从任意一个岛上再载着主角回到湖边，但是主角只有一次来回的机会。同时船夫告诉主角，连接岛屿之间的木桥很脆弱，走过一次之后就会断掉。</p><p>因为不知道宝箱内有什么道具，小Hi和小Ho觉得如果能把所有的道具收集齐肯定是最好的，那么对于当前岛屿和木桥的情况，能否将所有道具收集齐呢？</p><p>举个例子，比如一个由6个小岛和8座桥组成的地图：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585313.png" title="week49_1.png"/></p><p>主角可以先到达4号小岛，然后按照4-&gt;1-&gt;2-&gt;4-&gt;5-&gt;6-&gt;3-&gt;2-&gt;5的顺序到达5号小岛，然后船夫到5号小岛将主角接回湖边。这样主角就将所有桥上的道具都收集齐了。</p><p><a data-target="#m2" data-toggle="modal" href="#">提示：欧拉路的判定</a></p><p>小Ho：好麻烦啊，是我的话就随便走几步，到没路可走不就好了么！</p><p>小Hi：那样的话，收集的道具会少很多，万一以后要用到，又得重新读档了。</p><p>小Ho：好吧，让我先想想。</p><p>&lt;两分钟后&gt;</p><p>小Ho：这个好像是一笔画问题哎，我们是在求一个方法能够一笔画出所有边吧?</p><p>小Hi：没错，这就是一笔画问题，不过它更正式的名字叫做欧拉路问题。其定义是</p><p><strong>给定无孤立结点图G，若存在一条路，经过图中每边一次且仅一次，该条路称为欧拉路。</strong></p><p>小Ho：既然有名字，那就证明这东西有解咯？</p><p>小Hi：没错，欧拉路是有判定条件的：<strong>一个无向图存在欧拉路当且仅当该图是连通的且有且只有2个点的度数是奇数，此时这两个点只能作为欧拉路径的起点和终点。</strong></p><p>若图中没有奇数度的点，那么起点和终点一定是同一个点，这样的欧拉路叫做<strong>欧拉回路</strong></p><p>对于任意一个点来说，从其他点到它的次数和从它到其他点的次数必然是相等的，否则就会出现出去次数和进入次数不同。若进入次数多，则该点位终点，若出去次数多则该点为起点。</p><p>对于一个无向图来说，进入和出去的次数恰好反映在度的数量上。所以奇数度的点至多只能有2个。</p><p>严格的证明的话：</p><p>若图G连通，有零个或两个奇数度结点，我们总有如下方法构造一条欧拉路：</p><p>不妨看看前面的例子：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585313.png" title="week49_1.png"/></p><p>对于这个图来说，编号为4，5的点度数为奇数，其他为偶数。根据上面的性质，我们知道起点和终点一定是4、5节点。我们先从4开始随便画一条边直到无路可走：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/1433570558609.png" title="week49_2.png"/></p><p>在这一步中我们连接了4-5-6-3-2-5。根据欧拉路的构造，我们得到了L1。因为L1并没有走过所有的边，所以我们执行步骤3，可以发现对于4和2都是与子图G'重合的点，在子图上我们可以得到L2(2-4-1-2)：</p><p><img src="http://media.hihocoder.com//problem_images/20150606/14335705585023.png" title="week49_3.png"/></p><p>L1和L2合并就构成了欧拉路。</p><p>小Ho：既然有这个性质，那么我只需要计算每个点的度数就能知道能否走过所有的边了。</p><p>小Hi：没错，但是别忘了最重要的一点，需要整个图是连通的才行。</p><p>第1行：2个正整数，N,M。分别表示岛屿数量和木桥数量。1≤N≤10,000，1≤M≤50,000</p><p>第2..M+1行：每行2个整数，u,v。表示有一座木桥连接着编号为u和编号为v的岛屿，两个岛之间可能有多座桥。1≤u,v≤N</p><p>第1行：1个字符串，如果能收集齐所有的道具输出“Full”，否则输出”Part”。</p><p>Lifangting Building, Shanyuan Street, Haidian, Beijing</p><p>© 2017 hihoCoder Hu ICP No.14022864</p>